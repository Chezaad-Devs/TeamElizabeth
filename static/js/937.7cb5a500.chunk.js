"use strict";(self.webpackChunkTeamElizabeth=self.webpackChunkTeamElizabeth||[]).push([[937],{1483:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(3216),r=t(5475),l=t(1179),o=t(579);const n=function(){const e=(0,s.Zp)(),a=(0,s.zy)();return(0,o.jsx)("header",{className:"Header",children:(0,o.jsxs)("nav",{className:"Container-Nav",children:[(0,o.jsx)("div",{className:"Column1",children:(0,o.jsx)(r.N_,{to:"/teamelizabethmartinez",children:(0,o.jsx)("img",{src:l,alt:"Logo",className:"Img"})})}),(0,o.jsxs)("div",{className:"column2",children:[(0,o.jsx)("button",{onClick:()=>{const t="/dashboard"===a.pathname?"/teamelizabethmartinez":"/dashboard";e(t)},className:"Btn",children:"/dashboard"===a.pathname?"Ver posts":"Crear post"}),(0,o.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),e("/login")},className:"Btn",children:"Cerrar sesi\xf3n"})]})]})})}},4937:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var s=t(1483),r=t(5043),l=t(7154),o=t(2823),n=t.n(o),c=(t(1815),t(5884),t(579));const d=function(){const[e,a]=(0,r.useState)(""),[t,s]=(0,r.useState)(""),[o,d]=(0,r.useState)([]),[i,u]=(0,r.useState)(""),[m,b]=(0,r.useState)("publish"),[h,p]=(0,r.useState)(null),[x,j]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),v=localStorage.getItem("token");return(0,r.useEffect)((()=>{l.A.get("https://teamelizabethmartinez.com/wp-json/wp/v2/categories").then((e=>{var a;d(e.data),u(null===(a=e.data[0])||void 0===a?void 0:a.id)})).catch((e=>{console.error("Error al obtener las categor\xedas:",e)}))}),[]),(0,c.jsxs)("div",{className:"Box-content",children:[g&&(0,c.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4",role:"alert",children:(0,c.jsx)("p",{className:"font-bold",children:"\xa1Entrada creada correctamente!"})}),(0,c.jsxs)("form",{onSubmit:async r=>{r.preventDefault();const o=new FormData;o.append("file",h);try{const r=await l.A.post("https://teamelizabethmartinez.com/?rest_route=/wp/v2/media",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(v)}}),n={title:e,content:t,categories:[i],status:m,featured_media:r.data.id},c=await l.A.post("https://teamelizabethmartinez.com/?rest_route=/wp/v2/posts&JWT=".concat(v),n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(v)}});console.log("Entrada creada:",c.data),f(!0),a(""),s(""),u(""),b("publish"),p(null),j(null)}catch(n){console.error("Error al crear la entrada:",n)}},className:"form",children:[(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block mb-2",children:"T\xedtulo:"}),(0,c.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"})]}),(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("label",{className:"block mb-2",children:"Contenido:"}),(0,c.jsx)(n(),{theme:"snow",value:t,onChange:e=>{s(e)},className:"Content-Editor"}),""]}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block mb-2",children:"Categor\xeda:"}),(0,c.jsx)("select",{value:i,onChange:e=>u(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:o.map((e=>(0,c.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block mb-2",children:"Imagen destacada:"}),(0,c.jsx)("input",{type:"file",onChange:e=>{const a=e.target.files[0];p(a),j(URL.createObjectURL(a))},className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500"}),x&&(0,c.jsx)("img",{src:x,alt:"Featured Image",className:"mt-3 w-full rounded max-w-xs h-auto"})]}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("label",{className:"block mb-2",children:"Estado:"}),(0,c.jsxs)("select",{value:m,onChange:e=>b(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-blue-500",children:[(0,c.jsx)("option",{value:"publish",children:"Publicado"}),(0,c.jsx)("option",{value:"draft",children:"No publicado"})]})]}),(0,c.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Crear entrada"})]})]})};function i(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.A,{}),(0,c.jsx)(d,{})]})}},1815:()=>{},1179:(e,a,t)=>{e.exports=t.p+"static/media/Logo.4eb4677ae38978059c6b.webp"}}]);
//# sourceMappingURL=937.7cb5a500.chunk.js.map