{"version":3,"file":"static/js/328.b3a85dd1.chunk.js","mappings":"gMAgHA,QA1GA,WACE,MACMA,GAAWC,EAAAA,EAAAA,OAEVC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,CACvCC,MAAO,GACPC,SAAU,MAGLC,EAAQC,IAAaJ,EAAAA,EAAAA,UAAS,CAAC,IAC/BK,EAASC,IAAcN,EAAAA,EAAAA,WAAS,GAEjCO,EAAgBC,IACpBT,EAAY,IACPD,EACH,CAACU,EAAEC,OAAOC,MAAOF,EAAEC,OAAOE,OAC1B,EAwCJ,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,UAAAE,UACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAOG,IAAKC,EAAMC,IAAI,2BAEvCN,EAAAA,EAAAA,KAAA,MAAIC,UAAU,QAAOC,SAAC,sBAErBX,EAAOgB,UAAWP,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAEX,EAAOgB,WAExDJ,EAAAA,EAAAA,MAAA,QAAMK,SAtCSC,UAEnB,GADAb,EAAEc,iBAViBC,MACnB,MAAMC,EAAY,CAAC,EAKnB,OAJK1B,EAASG,QAAOuB,EAAUvB,MAAQ,+CAClCH,EAASI,WAAUsB,EAAUtB,SAAW,wCAE7CE,EAAUoB,GAC+B,IAAlCC,OAAOC,KAAKF,GAAWG,MAAY,EAKrCJ,GAAL,CAEAjB,GAAW,GACXF,EAAU,CAAC,GAEX,IAAK,IAADwB,EACF,MAKMC,EAA0B,QAArBD,SALYE,EAAAA,EAAMC,KAnClBC,0EAmC+B,IACrClC,EACHmC,SAAUD,8BAGWE,KAAKA,YAAI,IAAAN,OAAA,EAAlBA,EAAoBO,IAClC,IAAIN,EAIF,MAAM,IAAIO,MAAM,sCAHhBC,aAAaC,QAAQ,QAAST,GAC9BjC,EAAS,yBAIb,CAAE,MAAO2C,GACPC,QAAQD,MAAM,8BAA4BA,GAC1CnC,EAAU,CAAEe,QAAS,gDACvB,CAAC,QACCb,GAAW,EACb,CAvB2B,CAuB3B,EAaiCQ,SAAA,EAC3BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,QAAOC,SAAA,EACpBF,EAAAA,EAAAA,KAAA,SAAO6B,QAAQ,QAAQ5B,UAAU,QAAOC,SAAC,2BACzCF,EAAAA,EAAAA,KAAA,SACE8B,KAAK,QACLC,GAAG,QACHjC,KAAK,QACLG,UAAU,QACV+B,YAAY,kBACZjC,MAAOb,EAASG,MAChB4C,SAAUtC,EACVuC,SAAUzC,IAEXF,EAAOF,QAASW,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAEX,EAAOF,YAGxDc,EAAAA,EAAAA,MAAA,OAAKF,UAAU,QAAOC,SAAA,EACpBF,EAAAA,EAAAA,KAAA,SAAO6B,QAAQ,WAAW5B,UAAU,QAAOC,SAAC,mBAC5CF,EAAAA,EAAAA,KAAA,SACE8B,KAAK,WACLC,GAAG,WACHjC,KAAK,WACLG,UAAU,QACV+B,YAAY,WACZjC,MAAOb,EAASI,SAChB2C,SAAUtC,EACVuC,SAAUzC,IAEXF,EAAOD,WAAYU,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAEX,EAAOD,eAG3DU,EAAAA,EAAAA,KAAA,UAAQ8B,KAAK,SAAS7B,UAAU,gBAAgBiC,SAAUzC,EAAQS,SAC/DT,EAAU,cAAgB,6BAMvC,C","sources":["pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Logo from \"../img/Logo.webp\";\r\nimport \"../styles/login.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const ApiUrl = process.env.REACT_APP_API_URL_Login;\r\n  const navigate = useNavigate();\r\n\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!formData.email) newErrors.email = \"Por favor ingresa un correo electrónico.\";\r\n    if (!formData.password) newErrors.password = \"Por favor ingresa una contraseña.\";\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setLoading(true);\r\n    setErrors({}); // Resetear errores antes de enviar\r\n\r\n    try {\r\n      const response = await axios.post(ApiUrl, {\r\n        ...formData,\r\n        AUTH_KEY: process.env.REACT_APP_AUTH_KEY, // Usar variable de entorno\r\n      });\r\n\r\n      const token = response.data.data?.jwt;\r\n      if (token) {\r\n        localStorage.setItem(\"token\", token);\r\n        navigate(\"/teamelizabethmartinez\");\r\n      } else {\r\n        throw new Error(\"Respuesta inesperada del servidor.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error al iniciar sesión:\", error);\r\n      setErrors({ general: \"Las credenciales ingresadas son incorrectas.\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"inner-container\">\r\n        <figure>\r\n          <img className=\"logo\" src={Logo} alt=\"Logo del aldia pais\" />\r\n        </figure>\r\n        <h2 className=\"Title\">Iniciar sesión</h2>\r\n\r\n        {errors.general && <p className=\"error-message\">{errors.general}</p>}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"input\">\r\n            <label htmlFor=\"email\" className=\"label\">Correo electrónico</label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              className=\"input\"\r\n              placeholder=\"name@domain.com\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n            />\r\n            {errors.email && <p className=\"error-message\">{errors.email}</p>}\r\n          </div>\r\n\r\n          <div className=\"input\">\r\n            <label htmlFor=\"password\" className=\"label\">Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              className=\"input\"\r\n              placeholder=\"********\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              disabled={loading}\r\n            />\r\n            {errors.password && <p className=\"error-message\">{errors.password}</p>}\r\n          </div>\r\n\r\n          <button type=\"submit\" className=\"submit-button\" disabled={loading}>\r\n            {loading ? \"Cargando...\" : \"Iniciar sesión\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"names":["navigate","useNavigate","formData","setFormData","useState","email","password","errors","setErrors","loading","setLoading","handleChange","e","target","name","value","_jsx","className","children","_jsxs","src","Logo","alt","general","onSubmit","async","preventDefault","validateForm","newErrors","Object","keys","length","_response$data$data","token","axios","post","process","AUTH_KEY","data","jwt","Error","localStorage","setItem","error","console","htmlFor","type","id","placeholder","onChange","disabled"],"sourceRoot":""}